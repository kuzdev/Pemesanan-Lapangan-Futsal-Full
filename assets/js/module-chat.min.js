!function(a){"use strict";a(window).bind("enterBreakpoint480",function(){a(".chat-window-container .panel:not(:last)").remove(),a(".chat-window-container .panel").attr("id","chat-0001")}),a(window).bind("enterBreakpoint768",function(){3==a(".chat-window-container .panel").length&&(a(".chat-window-container .panel:first").remove(),a(".chat-window-container .panel:first").attr("id","chat-0001"),a(".chat-window-container .panel:last").attr("id","chat-0002"))})}(jQuery),function(a){function b(b,c){var d=b instanceof jQuery?b.val():a(this).val(),e="undefined"==typeof c?b.data.opt:c,f=a(e.targetSelector);f.show(),d&&d.length>=e.charCount&&f.not(":containsNoCase("+d+")").hide()}a.expr[":"].containsNoCase=function(b,c,d){var e=d[3];return e?new RegExp(e,"i").test(a(b).text()):!1},a.fn.searchFilter=function(c){var d=a.extend({targetSelector:"",charCount:1},c);return this.each(function(){var c=a(this);c.off("keyup",b),c.on("keyup",null,{opt:d},b)})},a(".chat-filter a").on("click",function(c){c.preventDefault(),a(".chat-contacts li").hide(),a(".chat-contacts").find(a(this).data("target")).show(),a(".chat-filter li").removeClass("active"),a(this).parent().addClass("active"),a(".chat-search input").searchFilter({targetSelector:".chat-contacts "+a(this).data("target")}),b(a(".chat-search input"),{targetSelector:".chat-contacts "+a(this).data("target"),charCount:1})}),a(".chat-search input").searchFilter({targetSelector:".chat-contacts li"})}(jQuery),function(a){"use strict";function b(){c.find(".panel").each(function(b){a(this).attr("id","chat-000"+parseInt(b+1))})}var c=a(".chat-window-container");a(".chat-contacts li").on("click",function(){if(!a('.chat-window-container [data-user-id="'+a(this).data("userId")+'"]').length&&"offline"!==a(this).attr("class")){var b=a("#chat-window-template").html(),d=Handlebars.compile(b),e={user_image:a(this).find("img").attr("src"),user:a(this).find(".contact-name").text()},f=d(e),g=a(f);g.attr("data-user-id",a(this).data("userId")),c.find('.panel:not([id^="chat"])').remove();var h=c.find(".panel").length;h++;var i=a(window).width()>768?3:1;h>=i&&(c.find("#chat-000"+i).remove(),h=i),g.attr("id","chat-000"+parseInt(h)),c.append(g).show(),g.show(),g.find("> .panel-body").removeClass("display-none"),g.find("> input").removeClass("display-none")}}),a("body").on("click",".chat-window-container .close",function(){a(this).parent().parent().remove(),b(),a(window).width()<768&&a(".chat-window-container").hide()}),a("body").on("click",".chat-window-container .panel-heading",function(b){b.preventDefault(),a(this).parent().find("> .panel-body").toggleClass("display-none"),a(this).parent().find("> input").toggleClass("display-none")})}(jQuery);